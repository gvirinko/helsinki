(this.webpackJsonppatientor_frontend=this.webpackJsonppatientor_frontend||[]).push([[0],{262:function(e,a,t){e.exports=t(438)},438:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(57),o=t.n(c),i=(t(266),t(70)),u=t.n(i),m=t(111),s=t(49),d=t(82),p=t.n(d),E=t(156),b=t(50),h=t(446),f=t(456),v=t(453),O=t(447),g="http://localhost:3003/api",j=t(83),C=t(34),y={patients:{}},T=Object(r.createContext)([y,function(){return y}]),w=function(e){var a=e.reducer,t=e.children,n=Object(r.useReducer)(a,y),c=Object(s.a)(n,2),o=c[0],i=c[1];return l.a.createElement(T.Provider,{value:[o,i]},t)},N=function(){return Object(r.useContext)(T)},S=t(452),k=t(449),x=t(455),A=t(454),F=t(25),H=t(448),I=(t(451),function(e){var a=e.name,t=e.label,n=e.options;return l.a.createElement(H.a.Field,null,l.a.createElement("label",null,t),l.a.createElement(F.b,{as:"select",name:a,className:"ui dropdown"},n.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label||e.value)}))))}),P=function(e){var a=e.field,t=e.label,n=e.placeholder;return l.a.createElement(H.a.Field,null,l.a.createElement("label",null,t),l.a.createElement(F.b,Object.assign({placeholder:n},a)),l.a.createElement("div",{style:{color:"red"}},l.a.createElement(F.a,{name:a.name})))};!function(e){e.Male="male",e.Female="female",e.Other="other"}(n||(n={}));var _=[{value:n.Male,label:"Male"},{value:n.Female,label:"Female"},{value:n.Other,label:"Other"}],B=function(e){var a=e.onSubmit,t=e.onCancel;return l.a.createElement(F.d,{initialValues:{name:"",ssn:"",dateOfBirth:"",occupation:"",gender:n.Other},onSubmit:a,validate:function(e){var a={};return e.name||(a.name="Field is required"),e.ssn||(a.ssn="Field is required"),e.dateOfBirth||(a.dateOfBirth="Field is required"),e.occupation||(a.occupation="Field is required"),a}},(function(e){var a=e.isValid,n=e.dirty;return l.a.createElement(F.c,{className:"form ui"},l.a.createElement(F.b,{label:"Name",placeholder:"Name",name:"name",component:P}),l.a.createElement(F.b,{label:"Social Security Number",placeholder:"SSN",name:"ssn",component:P}),l.a.createElement(F.b,{label:"Date Of Birth",placeholder:"YYYY-MM-DD",name:"dateOfBirth",component:P}),l.a.createElement(F.b,{label:"Occupation",placeholder:"Occupation",name:"occupation",component:P}),l.a.createElement(I,{label:"Gender",name:"gender",options:_}),l.a.createElement(A.a,null,l.a.createElement(A.a.Column,{floated:"left",width:5},l.a.createElement(v.a,{type:"button",onClick:t,color:"red"},"Cancel")),l.a.createElement(A.a.Column,{floated:"right",width:5},l.a.createElement(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!a},"Add"))))}))},D=function(e){var a=e.modalOpen,t=e.onClose,n=e.onSubmit,r=e.error;return l.a.createElement(k.a,{open:a,onClose:t,centered:!1,closeIcon:!0},l.a.createElement(k.a.Header,null,"Add a new patient"),l.a.createElement(k.a.Content,null,r&&l.a.createElement(x.a,{inverted:!0,color:"red"},"Error: ".concat(r)),l.a.createElement(B,{onSubmit:n,onCancel:t})))},M=t(458),R=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],q=function(e){var a=e.rating,t=e.showText;return l.a.createElement("div",{className:"health-bar"},l.a.createElement(M.a,{icon:"heart",disabled:!0,rating:4-a,maxRating:4}),t?l.a.createElement("p",null,R[a]):null)},Y=function(){var e=N(),a=Object(s.a)(e,2),t=a[0].patients,n=a[1],r=l.a.useState(!1),c=Object(s.a)(r,2),o=c[0],i=c[1],d=l.a.useState(),E=Object(s.a)(d,2),b=E[0],f=E[1],O=function(){i(!1),f(void 0)},j=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(g,"/patients"),a);case 3:t=e.sent,r=t.data,n({type:"ADD_PATIENT",payload:r}),O(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.response.data),f(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"App"},l.a.createElement(h.a,{textAlign:"center"},l.a.createElement("h3",null,"Patient list")),l.a.createElement(S.a,{celled:!0},l.a.createElement(S.a.Header,null,l.a.createElement(S.a.Row,null,l.a.createElement(S.a.HeaderCell,null,"Name"),l.a.createElement(S.a.HeaderCell,null,"Gender"),l.a.createElement(S.a.HeaderCell,null,"Occupation"),l.a.createElement(S.a.HeaderCell,null,"Health Rating"))),l.a.createElement(S.a.Body,null,Object.values(t).map((function(e){return l.a.createElement(S.a.Row,{key:e.id},l.a.createElement(S.a.Cell,null,e.name),l.a.createElement(S.a.Cell,null,e.gender),l.a.createElement(S.a.Cell,null,e.occupation),l.a.createElement(S.a.Cell,null,l.a.createElement(q,{showText:!1,rating:1})))})))),l.a.createElement(D,{modalOpen:o,onSubmit:j,error:b,onClose:O}),l.a.createElement(v.a,{onClick:function(){return i(!0)}},"Add New Patient"))},G=function(){var e=N(),a=Object(s.a)(e,2)[1];return l.a.useEffect((function(){p.a.get("".concat(g,"/ping")),function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(g,"/patients"));case 3:t=e.sent,n=t.data,a({type:"SET_PATIENT_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),l.a.createElement("div",{className:"App"},l.a.createElement(E.a,null,l.a.createElement(h.a,null,l.a.createElement(f.a,{as:"h1"},"Patientor"),l.a.createElement(v.a,{as:E.b,to:"/",primary:!0},"Home"),l.a.createElement(O.a,{hidden:!0}),l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/",render:function(){return l.a.createElement(Y,null)}})))))};o.a.render(l.a.createElement(w,{reducer:function(e,a){switch(a.type){case"SET_PATIENT_LIST":return Object(C.a)(Object(C.a)({},e),{},{patients:Object(C.a)(Object(C.a)({},a.payload.reduce((function(e,a){return Object(C.a)(Object(C.a)({},e),{},Object(j.a)({},a.id,a))}),{})),e.patients)});case"ADD_PATIENT":return Object(C.a)(Object(C.a)({},e),{},{patients:Object(C.a)(Object(C.a)({},e.patients),{},Object(j.a)({},a.payload.id,a.payload))});default:return e}}},l.a.createElement(G,null)),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.64938cdf.chunk.js.map